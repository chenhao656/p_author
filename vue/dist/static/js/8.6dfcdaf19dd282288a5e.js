webpackJsonp([8],{Jial:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={data:function(){return{totalCount:0,listQuery:{pageNum:1,pageRow:50,name:""},list:[{name:"张三",sex:"男",id_card:"12345",birthplace:"云南",type:"一般人员",case_type:"刑事案件",spot_photo:"../case",stock_photo:"sss",is_deal:"已处理",photo:"/123.jpg"}],listLoading:!1,timer:"",value:0,showwarning:!1,warningmessage:"",monitorPerson:{name:"",sex:"",id_card:"",birthplace:"",type:"",case_type:"",spot_photo:"",stock_photo:"",is_deal:""}}},methods:{getList:function(){var t=this;this.hasPerm("personmonitor:list")&&(this.listLoading=!0,this.api({url:"/monitorcheck/listmonitorcheck",method:"get",params:this.listQuery}).then(function(e){t.listLoading=!1,t.list=e.list,t.totalCount=e.totalCount}))},getBlackList:function(){var t=this;this.hasPerm("monitorcheck:list")&&(this.listLoading=!0,this.api({url:"/monitorcheck/listmonitorcheck",method:"get",params:this.listQuery}).then(function(e){if(t.listLoading=!1,t.list=e.list,t.totalCount=e.totalCount,0==e.list);else{var i=new Audio("http://www.xmf119.cn/static/admin/sounds/notify.wav");i.play(),i.addEventListener("end",function(){alert("监控人员"+this.list[0].name+"进入")}),alert("监控人员"+t.list[0].name+"进入")}}))},getIndex:function(t){return(this.listQuery.pageNum-1)*this.listQuery.pageRow+t+1},startmonitor:function(){this.warningmessage="布控人员张三进入车站",this.showwarning=!0,this.timer=setInterval(this.getBlackList,5e3)},mounted:function(){},beforeDestroy:function(){clearInterval(this.timer)},changeMonitor:function(){}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[t.showwarning?i("el-alert",{attrs:{title:"警告：",type:"warning",description:"有布控人员进入",center:"","show-icon":""}}):t._e(),t._v(" "),i("div",{attrs:{id:"warningmsg"}}),t._v(" "),i("el-form",[i("el-form-item",[t.hasPerm("personmonitor:add")?i("el-button",{attrs:{type:"primary",icon:"plus"},on:{click:t.startmonitor}},[t._v("\n            开启监控\n          ")]):t._e()],1)],1)],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.listLoading,expression:"listLoading",modifiers:{body:!0}}],attrs:{data:t.list,"element-loading-text":"拼命加载中",border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{align:"center",label:"序号",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",{domProps:{textContent:t._s(t.getIndex(e.$index))}})]}}])}),t._v(" "),i("el-table-column",{staticStyle:{width:"60px"},attrs:{align:"center",prop:"name",label:"姓名"}}),t._v(" "),i("el-table-column",{staticStyle:{width:"30px"},attrs:{align:"center",prop:"sex",label:"性别"}}),t._v(" "),i("el-table-column",{staticStyle:{width:"200px"},attrs:{align:"center",prop:"id_card",label:"身份证号"}}),t._v(" "),i("el-table-column",{staticStyle:{width:"60px"},attrs:{align:"center",prop:"birthplace",label:"户籍地"}}),t._v(" "),i("el-table-column",{staticStyle:{width:"60px"},attrs:{align:"center",prop:"type",label:"人员类别"}}),t._v(" "),i("el-table-column",{staticStyle:{width:"60px"},attrs:{align:"center",prop:"case_type",label:"案件类别"}}),t._v(" "),i("el-table-column",{staticStyle:{width:"60px"},attrs:{align:"center",prop:"spot_photo",label:"现场照片"}}),t._v(" "),i("el-table-column",{staticStyle:{width:"60px"},attrs:{align:"center",prop:"stock_photo",label:"库存照片"}}),t._v(" "),i("el-table-column",{staticStyle:{width:"60px"},attrs:{align:"center",prop:"is_deal",label:"是否已处理"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",icon:"edit"},on:{click:function(i){t.changeMonitor(e.$index)}}},[t._v("处理")])]}}])}),t._v(" "),i("el-table-column",{staticStyle:{width:"60px"},attrs:{align:"center",prop:"photo",label:"照片"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("img",{attrs:{src:t.row.photo,"min-width":"70",height:"70"}})]}}])})],1)],1)},staticRenderFns:[]},l=i("VU/8")(n,a,!1,null,null,null);e.default=l.exports}});